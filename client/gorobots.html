<!doctype html>

<html>
    <head>
        <style type="text/css" media="screen">
            canvas { border: 1px solid black; float: right;}
            body { font-family: Helvetica, Sans-Serif; }

            body {
              overflow: hidden;
            }

            .ace_editor {
                position: relative !important;
                border: 1px solid lightgray;
                margin: auto;
                float: left;
                height: 550px;
                width: 40%;
            }

        </style>
        <script type="text/javascript" src="gorobots.js"></script>
        <script src="ace/ace.js" type="text/javascript" charset="utf-8"></script>
    </head>
    <body>
  </head>
  <body id='body' onload="init();">
    <h3>GOBOTS</h3>

    <pre id="editor">function robot(data, map){

        //console.log(data, map);
        var instructions = {};
        var x,y;
        if (data && 'move_to' in data){
            x = data.move_to.x;
            y = data.move_to.y;

            if (Math.abs(data.position.x - data.move_to.x) < 3 &&
                Math.abs(data.position.y - data.move_to.y) < 3){
                x = Math.floor(Math.random() * map.width);
                y = Math.floor(Math.random() * map.height);
                console.log("X: " + x + ", Y: " + y);
                instructions.move_to = {"x": x, "y": y};
                instructions.fire_at = {"x": 100, "y": 100};
            }
            else{
                instructions.move_to = {"x": x, "y": y};
            }
        }
        else{
            x = Math.floor(Math.random() * map.width);
            y = Math.floor(Math.random() * map.height);
            instructions.move_to = {"x": x, "y": y};
        }

        return instructions;
    }
    </pre>

    <canvas id="battlefield"></canvas>

    <a href="#" id='debug_toggle'>Toggle Debug</a>
    <a href="#" id='fov_toggle'>Toggle FOV</a>
    <pre id="players"></pre>
    <div id="output"></div>

  </body>
</html>
